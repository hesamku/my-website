<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<title>License Generator</title>
<style>
    body {
        background: #0d0f17;
        color: #fff;
        font-family: sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 40px;
    }
    .box {
        background: #1a1d2d;
        padding: 25px;
        border-radius: 12px;
        width: 420px;
        box-shadow: 0 0 25px #000;
    }
    input, select, button {
        width: 100%;
        padding: 12px;
        margin: 8px 0;
        border-radius: 8px;
        border: none;
        font-size: 16px;
    }
    button {
        background: #4c6ef5;
        color: white;
        cursor: pointer;
        transition: 0.2s;
    }
    button:hover { background: #3b5bdb; }
    #output {
        background: #0b0d14;
        padding: 15px;
        border-radius: 8px;
        margin-top: 15px;
        direction: ltr;
    }
</style>
</head>
<body>

<div class="box" id="loginBox">
    <h2>ورود</h2>
    <input id="pass" type="password" placeholder="رمز: 1234">
    <button onclick="login()">ورود</button>
</div>

<div class="box" id="genBox" style="display:none;">
    <h2>ساخت لایسنس</h2>

    <label>نوع لایسنس:</label>
    <select id="licenseType">
        <option>HESAM-KU-VIP</option>
        <option>HESAM-KU-FREE</option>
        <option>HASAN-YT-VIP</option>
        <option>HASAN-YT-FRE</option>
    </select>

    <label>طول کد (X):</label>
    <input id="len" type="number" value="12">

    <label>روز اعتبار:</label>
    <select id="days">
        <option>1</option>
        <option>7</option>
        <option>15</option>
        <option>30</option>
        <option>45</option>
        <option>60</option>
    </select>

    <button onclick="generate()">ساخت JSON</button>

    <pre id="output"></pre>
    <button onclick="copyText()">کپی</button>
</div>

<script>
// --- Login ---
function login() {
    if (document.getElementById("pass").value === "1234") {
        document.getElementById("loginBox").style.display = "none";
        document.getElementById("genBox").style.display = "block";
    } else {
        alert("رمز اشتباه است");
    }
}

// --- Random Code ---
function randomString(length) {
    let chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
    let res = "";
    for (let i = 0; i < length; i++) {
        res += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    return res;
}

// --- Add Days ---
function addDays(days) {
    let d = new Date();
    d.setDate(d.getDate() + Number(days));
    return d.toISOString().substring(0, 10);
}

// --- Generate JSON ---
function generate() {
    let type = document.getElementById("licenseType").value;
    let len = Number(document.getElementById("len").value);
    let days = document.getElementById("days").value;

    let code = type + "-" + randomString(len);
    let exp = addDays(days);

    let json = `
"${code}": {
  "expires": "${exp}",
  "status": "active"
}
`;

    document.getElementById("output").innerText = json;
}

// --- Copy ---
function copyText() {
    navigator.clipboard.writeText(document.getElementById("output").innerText);
    alert("کپی شد!");
}
</script>

</body>
</html>
