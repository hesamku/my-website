<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<title>License Maker</title>
<style>
    body {
        background: #0c0f16;
        color: #fff;
        font-family: sans-serif;
        min-height: 100vh;
        margin: 0;

        /* مرکز کامل */
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .box {
        background: #171b28;
        width: 90%;
        max-width: 420px;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 0 20px #000;
    }
    input, select, button {
        width: 100%;
        padding: 12px;
        margin: 8px 0;
        border-radius: 8px;
        border: none;
        font-size: 16px;
        box-sizing: border-box;
    }
    button {
        background: #5566ff;
        color: white;
        cursor: pointer;
        transition: 0.2s;
    }
    button:hover { background: #4455dd; }
    #output {
        background: #0c0f16;
        padding: 15px;
        border-radius: 10px;
        margin-top: 15px;
        direction: ltr;
        white-space: pre-wrap;
        font-size: 15px;
    }
</style>
</head>
<body>

<div class="box" id="loginBox">
    <h2>ورود</h2>
    <input id="user" type="text" placeholder="یوزرنیم: 1234">
    <input id="pass" type="password" placeholder="پسورد: 1234">
    <button onclick="login()">ورود</button>
</div>

<div class="box" id="genBox" style="display:none;">
    <h2>ساخت لایسنس</h2>

    <label>نوع لایسنس:</label>
    <select id="licenseType">
        <option>HESAM-KU-VIP</option>
        <option>HESAM-KU-FREE</option>
        <option>HASAN-YT-VIP</option>
        <option>HASAN-YT-FRE</option>
    </select>

    <label>تعداد X:</label>
    <input id="len" type="number" value="12">

    <label>روز اعتبار:</label>
    <select id="days">
        <option>1</option>
        <option>7</option>
        <option>15</option>
        <option>30</option>
        <option>45</option>
        <option>60</option>
    </select>

    <button onclick="generate()">ساخت خروجی</button>

    <pre id="output"></pre>

    <button onclick="copyText()">کپی</button>
</div>

<script>
// LOGIN
function login() {
    if (document.getElementById("user").value === "1234" &&
        document.getElementById("pass").value === "1234") {
        document.getElementById("loginBox").style.display = "none";
        document.getElementById("genBox").style.display = "block";
    } else {
        alert("یوزر یا پسورد غلط است");
    }
}

// RANDOM CODE
function randomString(length) {
    let chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
    let res = "";
    for (let i = 0; i < length; i++) {
        res += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    return res;
}

// DATE MAKER
function addDays(days) {
    let d = new Date();
    d.setDate(d.getDate() + Number(days));
    return d.toISOString().slice(0, 10);
}

// GENERATE JSON
function generate() {
    let type = document.getElementById("licenseType").value;
    let len = Number(document.getElementById("len").value);
    let days = Number(document.getElementById("days").value);

    let code = type + "-" + randomString(len);
    let exp = addDays(days);

    let json = `},\n    "${code}": {\n      "expires": "${exp}",\n      "status": "active"`;

    document.getElementById("output").innerText = json;
}

// COPY
function copyText() {
    navigator.clipboard.writeText(document.getElementById("output").innerText);
    alert("کپی شد!");
}
</script>

</body>
</html>
